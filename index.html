<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Application Portal</title>

<style>
body{
    font-family: Arial;
    background:#eef2f7;
    margin:0;
}
.container{
    width:420px;
    background:white;
    margin:60px auto;
    padding:25px;
    border-radius:12px;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}
h2{text-align:center;}
input,select{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:6px;
    border:1px solid #ccc;
}
button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:6px;
    background:linear-gradient(to right,#2563eb,#1e3a8a);
    color:white;
    font-size:15px;
    cursor:pointer;
}
.error{
    color:red;
    font-size:13px;
}
.success{
    text-align:center;
    font-size:18px;
    margin-top:10px;
}
#countdown{
    font-size:22px;
    color:#1e3a8a;
    text-align:center;
    margin-top:10px;
}
img{
    width:100%;
    margin-top:10px;
    border-radius:8px;
    display:none;
}
</style>
</head>

<body>

<div class="container" id="formBox">
<h2>Secure Application Portal</h2>

<input type="text" id="name" placeholder="Full Name">
<input type="tel" id="mobile" placeholder="Mobile Number (10 digits)">

<select id="business">
<option value="">Propose Business</option>
<option>Tea Stall</option>
<option>Cab</option>
<option>Real Estate</option>
<option>Other Business</option>
</select>

<select id="amount">
<option value="">Select Amount</option>
<option>1 - 1.5 L</option>
<option>2 - 2.5 L</option>
<option>3 - 3.5 L</option>
<option>4 - 4.5 L</option>
<option>5 - 5.5 L</option>
<option>6 L</option>
</select>

<input type="file" id="photo" accept="image/*">

<img id="preview">

<div class="error" id="errorMsg"></div>

<button onclick="validateForm()">Submit</button>
</div>

<div class="container" id="successBox" style="display:none;">
<div class="success">Request Received âœ…</div>
<div id="countdown">05:00</div>
</div>

<script>
document.getElementById("photo").addEventListener("change", function(event){
    let file = event.target.files[0];
    let preview = document.getElementById("preview");

    if(file){
        if(file.size > 2 * 1024 * 1024){
            alert("Image size must be below 2MB");
            event.target.value="";
            return;
        }

        let reader = new FileReader();
        reader.onload = function(e){
            preview.src = e.target.result;
            preview.style.display = "block";
        }
        reader.readAsDataURL(file);
    }
});

function validateForm(){

let name=document.getElementById("name").value.trim();
let mobile=document.getElementById("mobile").value.trim();
let business=document.getElementById("business").value;
let amount=document.getElementById("amount").value;
let photo=document.getElementById("photo").files.length;
let error=document.getElementById("errorMsg");

let mobilePattern=/^[0-9]{10}$/;

if(name.length < 3){
error.innerText="Incorrect Name";
return;
}

if(!mobilePattern.test(mobile)){
error.innerText="Incorrect Mobile Number";
return;
}

if(business===""){
error.innerText="Please Select Business Type";
return;
}

if(amount===""){
error.innerText="Please Select Amount";
return;
}

if(photo===0){
error.innerText="Please Upload Photo Proof";
return;
}

error.innerText="";
document.getElementById("formBox").style.display="none";
document.getElementById("successBox").style.display="block";

startCountdown();
}

function startCountdown(){
let time=300;
let display=document.getElementById("countdown");

let timer=setInterval(function(){
let minutes=Math.floor(time/60);
let seconds=time%60;

display.innerHTML=
(minutes<10?"0":"")+minutes+":"+
(seconds<10?"0":"")+seconds;

time--;

if(time<0){
clearInterval(timer);
display.innerHTML="Processing Complete";
}
},1000);
}
</script>

</body>
</html>
